MODULE colors
PUBLIC SUB SET_POINT_COLOR, SET_LINE_COLOR, SET_AREA_COLOR, SET_TEXT_COLOR
SHARE SUB init
CALL init
SHARE NUMERIC maxcolor
ASK MAX COLOR maxcolor
!
EXTERNAL SUB init
   DATA  1 ,                1 ,                     1 
   DATA  0 ,                0 ,                     0 
   DATA  0 ,                0 ,                     1 
   DATA  0 ,                1 ,                     0 
   DATA  1 ,                0 ,                     0 
   DATA  0 ,                1 ,                     1 
   DATA  1 ,                1 ,                     0 
   DATA  1 ,                0 ,                     1 
   DATA  .501960784313726 , .501960784313726 ,      .501960784313726 
   DATA  0 ,                0 ,                     .501960784313726 
   DATA  0 ,                .501960784313726 ,      0 
   DATA  0 ,                .501960784313726 ,      .501960784313726 
   DATA  .501960784313726 , 0 ,                     0 
   DATA  .501960784313726 , .501960784313726 ,      0 
   DATA  .501960784313726 , 0 ,                     .501960784313726 
   DATA  .752941176470588 , .752941176470588 ,      .752941176470588 
   DECLARE NUMERIC i,r,g,b
   FOR i=0 TO MIN(15,maxcolor)
      READ r,g,b
      SET COLOR MIX(i) r,g,b
   NEXT i
   CLEAR
END sub
!
EXTERNAL SUB SET_POINT_COLOR(s$)
   DECLARE EXTERNAL FUNCTION COLOR_INDEX_OF
   SET POINT COLOR COLOR_INDEX_OF(s$)
END SUB
!
EXTERNAL SUB SET_LINE_COLOR(s$)
   DECLARE EXTERNAL FUNCTION COLOR_INDEX_OF
   SET LINE COLOR COLOR_INDEX_OF(s$)
END SUB
!
EXTERNAL SUB SET_AREA_COLOR(s$)
   DECLARE EXTERNAL FUNCTION COLOR_INDEX_OF
   SET AREA COLOR COLOR_INDEX_OF(s$)
END SUB
!
EXTERNAL SUB SET_TEXT_COLOR(s$)
   DECLARE EXTERNAL FUNCTION COLOR_INDEX_OF
   SET TEXT COLOR COLOR_INDEX_OF(s$)
END SUB
!
EXTERNAL FUNCTION COLOR_INDEX_OF(s$)
   DECLARE NUMERIC k 
   LET s$=UCASE$(s$)
   SELECT CASE s$
   CASE "WHITE","”’"
      LET k=0
   CASE "BLACK","•"
      LET k=1
   CASE "BLUE","Â"
      LET k=2
   CASE "GREEN","—Î"
      LET k=3
   CASE "RED","Ô"
      LET k=4
   CASE "CYAN"
      LET k=5
   CASE "MAGENTA"
      LET k=6
   CASE "YELLOW","‰©"
      LET k=7
   CASE "GRAY"
      LET k=8
   CASE "SILVER"
      LET k=15
   CASE ELSE
      CAUSE EXCEPTION 11085
   END SELECT
   IF k>maxcolor THEN CAUSE EXCEPTION 11085
   LET COLOR_INDEX_OF=k
END FUNCTION
END MODULE
 
