EXTERNAL PICTURE GRID2(sx,sy)
DECLARE NUMERIC L,R,B,T,LS,LC,tc,ta,th,X,Y
DECLARE STRING ts1$,ts2$
ASK WINDOW L,R,B,T
ASK LINE STYLE LS
SET LINE STYLE 3
ASK LINE COLOR LC
SET LINE COLOR 15
ASK TEXT COLOR tc
SET TEXT COLOR 15
ASK TEXT ANGLE ta
SET TEXT ANGLE 0
ASK TEXT HEIGHT th
SET TEXT HEIGHT 0.02*(T-B)
ASK TEXT JUSTIFY ts1$,ts2$
SET TEXT JUSTIFY "RIGHT","TOP"
SET LINE STYLE 1
PLOT LINES:L,0;R,0
PLOT LINES:0,B;0,T
SET LINE STYLE 3
FOR X=CEIL(L/sx)*sx TO INT(R/sx)*sx STEP sx
   PLOT LINES:X,B;X,T
   DRAW label(X) WITH SCALE((R-L)/(T-B),1)*SHIFT(X,0)
NEXT X
FOR Y=CEIL(B/sy)*sy TO INT(T/sy)*sy STEP sy
   PLOT LINES:L,Y;R,Y
   DRAW label(Y) WITH SCALE((R-L)/(T-B),1)*SHIFT(0,Y)
NEXT Y
SET LINE COLOR LC
SET LINE STYLE LS
SET TEXT COLOR tc
SET TEXT ANGLE ta
SET TEXT HEIGHT th
SET TEXT JUSTIFY ts1$,ts2$
PICTURE label(n)
   PLOT TEXT, AT 0,0 :str$(n)
END PICTURE
END PICTURE

